import{d as y,c as V,w as a,V as R,r as T,o as w,a as e,b as v,e as k,f as N,g as h,h as G,i as U,j as O,k as b,t as E,l as q,m as B,n as i,p as g,q as H,s as I,u as S,v as x,x as C,y as A,z as $,A as m,B as _,C as c,D,E as F,F as M,G as j,H as z,I as K,J as W,K as J,L as Q}from"./vendor.54fba98b.js";const X=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};X();var P=(u,t)=>{const s=u.__vccOpts||u;for(const[o,r]of t)s[o]=r;return s};const Y=y({name:"App",data(){return{version:"0.0.4"}}}),Z=i(" Pages "),ee=i("Accueil"),te=i("Trivial Poursuit"),ae=i(" Maths online ");function se(u,t,s,o,r,n){const l=T("router-view");return w(),V(R,null,{default:a(()=>[e(G,{app:"",permanent:""},{default:a(()=>[e(v,null,{default:a(()=>[e(k,{class:"title"},{default:a(()=>[Z]),_:1})]),_:1}),e(N),e(v,null,{default:a(()=>[e(h,{link:"",to:{name:"home"}},{default:a(()=>[ee]),_:1})]),_:1}),e(v,null,{default:a(()=>[e(h,{link:"",to:{name:"trivial"}},{default:a(()=>[te]),_:1})]),_:1})]),_:1}),e(q,{app:""},{default:a(()=>[e(U,null,{default:a(()=>[ae]),_:1}),e(O),b("small",null,"(Version "+E(u.version)+")",1)]),_:1}),e(B,null,{default:a(()=>[e(l)]),_:1})]),_:1})}var re=P(Y,[["render",se]]);class oe{constructor(t,s,o){this.baseUrl=t,this.authToken=s,this.urlParams=o}getHeaders(){return{Authorization:"Bearer "+this.authToken}}async rawLaunchGame(t){const s=this.baseUrl+"/trivial/launch_game";return(await g.post(s,t,{headers:this.getHeaders()})).data}async LaunchGame(t){this.startRequest();try{const s=await this.rawLaunchGame(t);return this.onSuccessLaunchGame(s),s}catch(s){this.handleError(s)}}async rawShowStats(){const t=this.baseUrl+"/trivial/stats";return(await g.get(t,{headers:this.getHeaders()})).data}async ShowStats(){this.startRequest();try{const t=await this.rawShowStats();return this.onSuccessShowStats(t),t}catch(t){this.handleError(t)}}async rawAccessGame(){const t=this.baseUrl+"/trivial/game/:game_id".replace(":game_id",this.urlParams.game_id);return(await g.get(t,{headers:this.getHeaders()})).data}async AccessGame(){this.startRequest();try{const t=await this.rawAccessGame();return this.onSuccessAccessGame(t),t}catch(t){this.handleError(t)}}}class ne extends oe{handleError(t){console.log(`ERROR: ${t}`)}startRequest(){console.log("launching request")}onSuccessLaunchGame(t){console.log(`Game started at ${t.URL}`)}}const le=new ne(window.location.origin,"",{}),ie=i("Trivial Poursuit"),ue=i("Configurer une partie de Trivial Poursuit"),ce=i(" Lancer la partie "),de=i(" Code de "),fe=b("a",{href:"/test-eleve",target:"_blank"},"la partie \xE0 rejoindre",-1),me=i(" : "),he=y({setup(u){let s=H({NbPlayers:1,TimeoutSeconds:60});const o=I(()=>!r.value&&s.NbPlayers>=1);let r=S(!1),n=S("");async function l(){r.value=!0;const d=await le.LaunchGame(s);r.value=!1,d!==void 0&&(n.value=d.URL.slice(d.URL.length-3))}return(d,f)=>(w(),V(x,{class:"ma-3"},{default:a(()=>[e(C,null,{default:a(()=>[ie]),_:1}),e(A,null,{default:a(()=>[ue]),_:1}),e(M,{class:"mx-4 my-2"},{default:a(()=>[e($,{label:"Nombre de joueurs",type:"number",min:"1",modelValue:m(s).NbPlayers,"onUpdate:modelValue":f[0]||(f[0]=p=>m(s).NbPlayers=p),modelModifiers:{number:!0}},null,8,["modelValue"]),e($,{label:"Dur\xE9e limite pour une question",type:"number",min:"1",suffix:"sec",modelValue:m(s).TimeoutSeconds,"onUpdate:modelValue":f[1]||(f[1]=p=>m(s).TimeoutSeconds=p),modelModifiers:{number:!0}},null,8,["modelValue"]),e(_,null,{default:a(()=>[e(c,{cols:"4",sm:"6",md:"9"}),e(c,{cols:"8",sm:"6",md:"3",class:"text-right"},{default:a(()=>[e(h,{block:"",onClick:l,disabled:!m(o),color:"success"},{default:a(()=>[ce]),_:1},8,["disabled"])]),_:1})]),_:1}),e(D,{class:"px-4 my-2","model-value":n.value!="",color:"info"},{default:a(()=>[e(_,{"no-gutters":""},{default:a(()=>[e(c,{"align-self":"center"},{default:a(()=>[de,fe,me]),_:1}),e(c,null,{default:a(()=>[e(F,{size:"big",class:"pa-3"},{default:a(()=>[b("b",null,E(n.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1})]),_:1}))}}),_e=y({name:"HomeView",components:{}}),pe=i("Bienvenue !"),ve=i("D\xE9marrer en choisissant une activit\xE9."),ge=i(" Trivial poursuit "),ye=i(" Tester l'application \xE9l\xE8ve ");function Ve(u,t,s,o,r,n){return w(),V(j,null,{default:a(()=>[e(_,null,{default:a(()=>[e(c,null,{default:a(()=>[e(x,{color:"secondary"},{default:a(()=>[e(C,null,{default:a(()=>[pe]),_:1}),e(A,null,{default:a(()=>[ve]),_:1}),e(z,null,{default:a(()=>[e(_,null,{default:a(()=>[e(c,null,{default:a(()=>[e(h,{link:"",to:{name:"trivial"},color:"primary"},{default:a(()=>[ge]),_:1})]),_:1}),e(c,null,{default:a(()=>[e(h,{link:"",href:"https://education.alwaysdata.net/test-eleve",color:"primary"},{default:a(()=>[ye]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var we=P(_e,[["render",Ve]]);const be=K({history:W("/prof/"),routes:[{path:"/",name:"home",component:we},{path:"/trivial",name:"trivial",component:he}]});var Se=J();const $e="modulepreload",L={},Le="/static/prof/",Ee=function(t,s){return!s||s.length===0?t():Promise.all(s.map(o=>{if(o=`${Le}${o}`,o in L)return;L[o]=!0;const r=o.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${n}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":$e,r||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),r)return new Promise((d,f)=>{l.addEventListener("load",d),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};async function xe(){(await Ee(()=>import("./webfontloader.cd097671.js").then(function(t){return t.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}xe();Q(re).use(be).use(Se).mount("#app");
