import{d as v,c as V,w as t,V as E,r as R,o as g,a as e,b as p,e as k,f as A,g as f,h as P,i as S,j as T,k as $,t as b,l as N,m as O,n as u,p as B,q as h,s as G,u as w,v as L,x as C,y as I,z as _,A as c,B as U,C as F,D as q,E as D,F as H,G as j,H as z,I as M,J as K,K as W}from"./vendor.27a7b8ad.js";const J=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}};J();var x=(i,r)=>{const o=i.__vccOpts||i;for(const[s,a]of r)o[s]=a;return o};const Q=v({name:"App",data(){return{version:"0.0.2"}}}),X=u(" Pages "),Y=u("Accueil"),Z=u("Trivial Poursuit"),ee=u(" Maths online ");function te(i,r,o,s,a,l){const n=R("router-view");return g(),V(E,null,{default:t(()=>[e(P,{app:"",permanent:""},{default:t(()=>[e(p,null,{default:t(()=>[e(k,{class:"title"},{default:t(()=>[X]),_:1})]),_:1}),e(A),e(p,null,{default:t(()=>[e(f,{link:"",to:{name:"home"}},{default:t(()=>[Y]),_:1})]),_:1}),e(p,null,{default:t(()=>[e(f,{link:"",to:{name:"trivial"}},{default:t(()=>[Z]),_:1})]),_:1})]),_:1}),e(N,{app:""},{default:t(()=>[e(S,null,{default:t(()=>[ee]),_:1}),e(T),$("small",null,"(Version "+b(i.version)+")",1)]),_:1}),e(O,null,{default:t(()=>[e(n)]),_:1})]),_:1})}var ae=x(Q,[["render",te]]);class re{constructor(r,o,s){this.baseUrl=r,this.authToken=o,this.urlParams=s}getHeaders(){return{Authorization:"Bearer "+this.authToken}}async rawLaunchGame(r){const o=this.baseUrl+"/trivial/launch_game";return(await B.post(o,r,{headers:this.getHeaders()})).data}async LaunchGame(r){this.startRequest();try{const o=await this.rawLaunchGame(r);return this.onSuccessLaunchGame(o),o}catch(o){this.handleError(o)}}}class se extends re{handleError(r){console.log(`ERROR: ${r}`)}startRequest(){console.log("launching request")}onSuccessLaunchGame(r){console.log(`Game started at ${r.URL}`)}}const oe=new se(window.location.origin,"",{}),ne=u("Trivial Poursuit"),le=u("Configurer une partie de Trivial Poursuit"),ie=u(" Lancer la partie "),ue=u(" Code de la partie \xE0 rejoindre : "),ce=v({setup(i){let r=h(0);const o=G(()=>!s.value&&r.value>0);let s=h(!1),a=h("");async function l(){s.value=!0;const n=await oe.LaunchGame({NbPlayers:r.value});s.value=!1,n!==void 0&&(a.value=n.URL.slice(n.URL.length-6))}return(n,d)=>(g(),V(w,{class:"ma-3"},{default:t(()=>[e(L,null,{default:t(()=>[ne]),_:1}),e(C,null,{default:t(()=>[le]),_:1}),e(D,{class:"mx-4 my-2"},{default:t(()=>[e(I,{label:"Nombre de joueurs",type:"number",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=m=>r.value=m),modelModifiers:{number:!0}},null,8,["modelValue"]),e(_,null,{default:t(()=>[e(c,{cols:"4",sm:"6",md:"9"}),e(c,{cols:"8",sm:"6",md:"3",class:"text-right"},{default:t(()=>[e(f,{block:"",onClick:l,disabled:!U(o),color:"success"},{default:t(()=>[ie]),_:1},8,["disabled"])]),_:1})]),_:1}),e(F,{class:"px-4 my-2","model-value":a.value!="",color:"info"},{default:t(()=>[e(_,{"no-gutters":""},{default:t(()=>[e(c,{"align-self":"center"},{default:t(()=>[ue]),_:1}),e(c,null,{default:t(()=>[e(q,{size:"big",class:"pa-3"},{default:t(()=>[$("b",null,b(a.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1})]),_:1}))}}),de=v({name:"HomeView",components:{}}),fe=u("Bienvenue !"),_e=u("D\xE9marrer en choisissant une activit\xE9."),me=u(" Trivial poursuit ");function pe(i,r,o,s,a,l){return g(),V(H,null,{default:t(()=>[e(_,null,{default:t(()=>[e(c,null,{default:t(()=>[e(w,{color:"secondary"},{default:t(()=>[e(L,null,{default:t(()=>[fe]),_:1}),e(C,null,{default:t(()=>[_e]),_:1}),e(j,null,{default:t(()=>[e(_,null,{default:t(()=>[e(c,null,{default:t(()=>[e(f,{link:"",to:{name:"trivial"},color:"primary"},{default:t(()=>[me]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var he=x(de,[["render",pe]]);const ve=z({history:M("/static/prof/"),routes:[{path:"/",name:"home",component:he},{path:"/trivial",name:"trivial",component:ce}]});var Ve=K();const ge="modulepreload",y={},ye="/static/prof/",$e=function(r,o){return!o||o.length===0?r():Promise.all(o.map(s=>{if(s=`${ye}${s}`,s in y)return;y[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${l}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":ge,a||(n.as="script",n.crossOrigin=""),n.href=s,document.head.appendChild(n),a)return new Promise((d,m)=>{n.addEventListener("load",d),n.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>r())};async function be(){(await $e(()=>import("./webfontloader.cd097671.js").then(function(r){return r.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}be();W(ae).use(ve).use(Ve).mount("#app");
