import{d as g,c as y,w as a,V as P,r as R,o as V,a as t,b as p,e as T,f as k,g as h,h as N,i as G,j as U,k as w,t as L,l as O,m as q,n as i,p as v,q as B,s as H,u as b,v as C,x as E,y as x,z as S,A as f,B as _,C as d,D as I,E as D,F,G as M,H as j,I as z,J as K,K as W,L as J}from"./vendor.54fba98b.js";const Q=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}};Q();var A=(u,e)=>{const r=u.__vccOpts||u;for(const[o,s]of e)r[o]=s;return r};const X=g({name:"App",data(){return{version:"0.0.2"}}}),Y=i(" Pages "),Z=i("Accueil"),ee=i("Trivial Poursuit"),te=i(" Maths online ");function ae(u,e,r,o,s,l){const n=R("router-view");return V(),y(P,null,{default:a(()=>[t(N,{app:"",permanent:""},{default:a(()=>[t(p,null,{default:a(()=>[t(T,{class:"title"},{default:a(()=>[Y]),_:1})]),_:1}),t(k),t(p,null,{default:a(()=>[t(h,{link:"",to:{name:"home"}},{default:a(()=>[Z]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(h,{link:"",to:{name:"trivial"}},{default:a(()=>[ee]),_:1})]),_:1})]),_:1}),t(O,{app:""},{default:a(()=>[t(G,null,{default:a(()=>[te]),_:1}),t(U),w("small",null,"(Version "+L(u.version)+")",1)]),_:1}),t(q,null,{default:a(()=>[t(n)]),_:1})]),_:1})}var se=A(X,[["render",ae]]);class re{constructor(e,r,o){this.baseUrl=e,this.authToken=r,this.urlParams=o}getHeaders(){return{Authorization:"Bearer "+this.authToken}}async rawLaunchGame(e){const r=this.baseUrl+"/trivial/launch_game";return(await v.post(r,e,{headers:this.getHeaders()})).data}async LaunchGame(e){this.startRequest();try{const r=await this.rawLaunchGame(e);return this.onSuccessLaunchGame(r),r}catch(r){this.handleError(r)}}async rawShowStats(){const e=this.baseUrl+"/trivial/stats";return(await v.get(e,{headers:this.getHeaders()})).data}async ShowStats(){this.startRequest();try{const e=await this.rawShowStats();return this.onSuccessShowStats(e),e}catch(e){this.handleError(e)}}async rawAccessGame(){const e=this.baseUrl+"/trivial/game/:game_id".replace(":game_id",this.urlParams.game_id);return(await v.get(e,{headers:this.getHeaders()})).data}async AccessGame(){this.startRequest();try{const e=await this.rawAccessGame();return this.onSuccessAccessGame(e),e}catch(e){this.handleError(e)}}}class oe extends re{handleError(e){console.log(`ERROR: ${e}`)}startRequest(){console.log("launching request")}onSuccessLaunchGame(e){console.log(`Game started at ${e.URL}`)}}const ne=new oe(window.location.origin,"",{}),le=i("Trivial Poursuit"),ie=i("Configurer une partie de Trivial Poursuit"),ue=i(" Lancer la partie "),ce=i(" Code de "),de=w("a",{href:"/test-eleve",target:"_blank"},"la partie \xE0 rejoindre",-1),me=i(" : "),fe=g({setup(u){let e=B({NbPlayers:1,TimeoutSeconds:60});const r=H(()=>!o.value&&e.NbPlayers>=1);let o=b(!1),s=b("");async function l(){o.value=!0;const n=await ne.LaunchGame(e);o.value=!1,n!==void 0&&(s.value=n.URL.slice(n.URL.length-6))}return(n,c)=>(V(),y(C,{class:"ma-3"},{default:a(()=>[t(E,null,{default:a(()=>[le]),_:1}),t(x,null,{default:a(()=>[ie]),_:1}),t(F,{class:"mx-4 my-2"},{default:a(()=>[t(S,{label:"Nombre de joueurs",type:"number",min:"1",modelValue:f(e).NbPlayers,"onUpdate:modelValue":c[0]||(c[0]=m=>f(e).NbPlayers=m),modelModifiers:{number:!0}},null,8,["modelValue"]),t(S,{label:"Dur\xE9e limite pour une question",type:"number",min:"1",suffix:"sec",modelValue:f(e).TimeoutSeconds,"onUpdate:modelValue":c[1]||(c[1]=m=>f(e).TimeoutSeconds=m),modelModifiers:{number:!0}},null,8,["modelValue"]),t(_,null,{default:a(()=>[t(d,{cols:"4",sm:"6",md:"9"}),t(d,{cols:"8",sm:"6",md:"3",class:"text-right"},{default:a(()=>[t(h,{block:"",onClick:l,disabled:!f(r),color:"success"},{default:a(()=>[ue]),_:1},8,["disabled"])]),_:1})]),_:1}),t(I,{class:"px-4 my-2","model-value":s.value!="",color:"info"},{default:a(()=>[t(_,{"no-gutters":""},{default:a(()=>[t(d,{"align-self":"center"},{default:a(()=>[ce,de,me]),_:1}),t(d,null,{default:a(()=>[t(D,{size:"big",class:"pa-3"},{default:a(()=>[w("b",null,L(s.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1})]),_:1}))}}),he=g({name:"HomeView",components:{}}),_e=i("Bienvenue !"),pe=i("D\xE9marrer en choisissant une activit\xE9."),ve=i(" Trivial poursuit ");function ge(u,e,r,o,s,l){return V(),y(M,null,{default:a(()=>[t(_,null,{default:a(()=>[t(d,null,{default:a(()=>[t(C,{color:"secondary"},{default:a(()=>[t(E,null,{default:a(()=>[_e]),_:1}),t(x,null,{default:a(()=>[pe]),_:1}),t(j,null,{default:a(()=>[t(_,null,{default:a(()=>[t(d,null,{default:a(()=>[t(h,{link:"",to:{name:"trivial"},color:"primary"},{default:a(()=>[ve]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var ye=A(he,[["render",ge]]);const Ve=z({history:K("/prof/"),routes:[{path:"/",name:"home",component:ye},{path:"/trivial",name:"trivial",component:fe}]});var we=W();const be="modulepreload",$={},Se="/static/prof/",$e=function(e,r){return!r||r.length===0?e():Promise.all(r.map(o=>{if(o=`${Se}${o}`,o in $)return;$[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${l}`))return;const n=document.createElement("link");if(n.rel=s?"stylesheet":be,s||(n.as="script",n.crossOrigin=""),n.href=o,document.head.appendChild(n),s)return new Promise((c,m)=>{n.addEventListener("load",c),n.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};async function Le(){(await $e(()=>import("./webfontloader.cd097671.js").then(function(e){return e.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Le();J(se).use(Ve).use(we).mount("#app");
