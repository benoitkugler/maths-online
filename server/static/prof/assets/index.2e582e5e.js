import{d as y,c as V,w as a,V as R,r as T,o as w,a as t,b as v,e as k,f as N,g as h,h as G,i as U,j as O,k as b,t as C,l as q,m as B,n as i,p as g,q as H,s as I,u as S,v as E,x,y as A,z as L,A as f,B as _,C as m,D,E as F,F as M,G as j,H as z,I as K,J as W,K as J,L as Q}from"./vendor.54fba98b.js";const X=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}};X();var P=(u,e)=>{const s=u.__vccOpts||u;for(const[o,r]of e)s[o]=r;return s};const Y=y({name:"App",data(){return{version:"0.0.3"}}}),Z=i(" Pages "),ee=i("Accueil"),te=i("Trivial Poursuit"),ae=i(" Maths online ");function se(u,e,s,o,r,n){const l=T("router-view");return w(),V(R,null,{default:a(()=>[t(G,{app:"",permanent:""},{default:a(()=>[t(v,null,{default:a(()=>[t(k,{class:"title"},{default:a(()=>[Z]),_:1})]),_:1}),t(N),t(v,null,{default:a(()=>[t(h,{link:"",to:{name:"home"}},{default:a(()=>[ee]),_:1})]),_:1}),t(v,null,{default:a(()=>[t(h,{link:"",to:{name:"trivial"}},{default:a(()=>[te]),_:1})]),_:1})]),_:1}),t(q,{app:""},{default:a(()=>[t(U,null,{default:a(()=>[ae]),_:1}),t(O),b("small",null,"(Version "+C(u.version)+")",1)]),_:1}),t(B,null,{default:a(()=>[t(l)]),_:1})]),_:1})}var re=P(Y,[["render",se]]);class oe{constructor(e,s,o){this.baseUrl=e,this.authToken=s,this.urlParams=o}getHeaders(){return{Authorization:"Bearer "+this.authToken}}async rawLaunchGame(e){const s=this.baseUrl+"/trivial/launch_game";return(await g.post(s,e,{headers:this.getHeaders()})).data}async LaunchGame(e){this.startRequest();try{const s=await this.rawLaunchGame(e);return this.onSuccessLaunchGame(s),s}catch(s){this.handleError(s)}}async rawShowStats(){const e=this.baseUrl+"/trivial/stats";return(await g.get(e,{headers:this.getHeaders()})).data}async ShowStats(){this.startRequest();try{const e=await this.rawShowStats();return this.onSuccessShowStats(e),e}catch(e){this.handleError(e)}}async rawAccessGame(){const e=this.baseUrl+"/trivial/game/:game_id".replace(":game_id",this.urlParams.game_id);return(await g.get(e,{headers:this.getHeaders()})).data}async AccessGame(){this.startRequest();try{const e=await this.rawAccessGame();return this.onSuccessAccessGame(e),e}catch(e){this.handleError(e)}}}class ne extends oe{handleError(e){console.log(`ERROR: ${e}`)}startRequest(){console.log("launching request")}onSuccessLaunchGame(e){console.log(`Game started at ${e.URL}`)}}const le=new ne(window.location.origin,"",{}),ie=i("Trivial Poursuit"),ue=i("Configurer une partie de Trivial Poursuit"),ce=i(" Lancer la partie "),de=i(" Code de "),me=b("a",{href:"/test-eleve",target:"_blank"},"la partie \xE0 rejoindre",-1),fe=i(" : "),he=y({setup(u){let s=H({NbPlayers:1,TimeoutSeconds:60});const o=I(()=>!r.value&&s.NbPlayers>=1);let r=S(!1),n=S("");async function l(){r.value=!0;const c=await le.LaunchGame(s);r.value=!1,c!==void 0&&(n.value=c.URL.slice(c.URL.length-3))}return(c,d)=>(w(),V(E,{class:"ma-3"},{default:a(()=>[t(x,null,{default:a(()=>[ie]),_:1}),t(A,null,{default:a(()=>[ue]),_:1}),t(M,{class:"mx-4 my-2"},{default:a(()=>[t(L,{label:"Nombre de joueurs",type:"number",min:"1",modelValue:f(s).NbPlayers,"onUpdate:modelValue":d[0]||(d[0]=p=>f(s).NbPlayers=p),modelModifiers:{number:!0}},null,8,["modelValue"]),t(L,{label:"Dur\xE9e limite pour une question",type:"number",min:"1",suffix:"sec",modelValue:f(s).TimeoutSeconds,"onUpdate:modelValue":d[1]||(d[1]=p=>f(s).TimeoutSeconds=p),modelModifiers:{number:!0}},null,8,["modelValue"]),t(_,null,{default:a(()=>[t(m,{cols:"4",sm:"6",md:"9"}),t(m,{cols:"8",sm:"6",md:"3",class:"text-right"},{default:a(()=>[t(h,{block:"",onClick:l,disabled:!f(o),color:"success"},{default:a(()=>[ce]),_:1},8,["disabled"])]),_:1})]),_:1}),t(D,{class:"px-4 my-2","model-value":n.value!="",color:"info"},{default:a(()=>[t(_,{"no-gutters":""},{default:a(()=>[t(m,{"align-self":"center"},{default:a(()=>[de,me,fe]),_:1}),t(m,null,{default:a(()=>[t(F,{size:"big",class:"pa-3"},{default:a(()=>[b("b",null,C(n.value),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])]),_:1})]),_:1}))}}),_e=y({name:"HomeView",components:{}}),pe=i("Bienvenue !"),ve=i("D\xE9marrer en choisissant une activit\xE9."),ge=i(" Trivial poursuit ");function ye(u,e,s,o,r,n){return w(),V(j,null,{default:a(()=>[t(_,null,{default:a(()=>[t(m,null,{default:a(()=>[t(E,{color:"secondary"},{default:a(()=>[t(x,null,{default:a(()=>[pe]),_:1}),t(A,null,{default:a(()=>[ve]),_:1}),t(z,null,{default:a(()=>[t(_,null,{default:a(()=>[t(m,null,{default:a(()=>[t(h,{link:"",to:{name:"trivial"},color:"primary"},{default:a(()=>[ge]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Ve=P(_e,[["render",ye]]);const we=K({history:W("/prof/"),routes:[{path:"/",name:"home",component:Ve},{path:"/trivial",name:"trivial",component:he}]});var be=J();const Se="modulepreload",$={},Le="/static/prof/",$e=function(e,s){return!s||s.length===0?e():Promise.all(s.map(o=>{if(o=`${Le}${o}`,o in $)return;$[o]=!0;const r=o.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${n}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":Se,r||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),r)return new Promise((c,d)=>{l.addEventListener("load",c),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};async function Ce(){(await $e(()=>import("./webfontloader.cd097671.js").then(function(e){return e.w}),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}Ce();Q(re).use(we).use(be).mount("#app");
